{% extends 'base.html' %}

{% load static %}

{% load crispy_forms_tags %}

{% block titulo %}
{% endblock %}

{% block content %}
<div class="container mt-5 pt-5">
<h3 class="fs-2 fw-semibold">Cadastro</h3>
<hr>
<div class="">
    <form class="card p-3 mt-5" autocomplete="off" action="" method="POST">
        {% csrf_token %}
        <div class="row">
            <div class="col-2">{{ form.codigo|as_crispy_field }}</div>
            <div class="col-8">{{ form.descricao|as_crispy_field }}</div>
            <div class="col-2">{{ form.preco|as_crispy_field }}</div>
        </div>
        <div class="row">
            <div class="col-4" id="idacabamentoperfil">{{ form.acabamento|as_crispy_field }}</div>
            <div class="col-4">{{ form.tipo|as_crispy_field }}</div>
            <div class="col-4">{{ form.modelo|as_crispy_field }}</div>
        </div>
        <div class="row">
            <div class="col-4" type="radio" name="encaixe" id="idpermiteperfilpuxador" >{{ form.encaixe|as_crispy_field }}</div>
            <div class="col-8" id="idperfilpuxador" name="perfilpuxador">{{ form.perfil_puxador|as_crispy_field }}</div>
        </div>
        <div class="row">
            <div class="col-4" type="radio" name="encaixepuxador" id="idpermitepuxador">{{ form.encaixepuxador|as_crispy_field }}</div>
        </div>
         <div class="row">
            <div class="" id="idpuxador" name="puxadorsobreposto">{{ form.puxadorsobreposto|as_crispy_field }}</div>
        </div>
        <button type="submit" class="mt-3 btn btn-outline-primary" style="width: 100px;">Cadastrar</button>
    </form>
</div>
<script>
<!--$(document).ready(function() {-->
<!--  var campoEncaixePuxador = $('input[name="encaixepuxador"]');-->
<!--  var puxadorDiv = $('#idpuxador');-->

<!--  var campoEncaixe = $('input[name="encaixe"]-->
<!--  var perfilpuxadorDiv = $('#idperfilpuxador');-->

<!--  campoEncaixePuxador.on('change', function() {-->
<!--    var valorPuxadorSelecionado = campoEncaixePuxador.filter(':checked').val();-->
<!--    if (valorPuxadorSelecionado === '1') {-->
<!--      puxadorDiv.show();-->
<!--    } else {-->
<!--      puxadorDiv.find('input[type="checkbox"]').prop('checked', false);-->
<!--      puxadorDiv.hide();-->
<!--    }-->
<!--    console.log('Valor selecionado: ' + valorPuxadorSelecionado);-->

<!--  });-->

<!--  campoEncaixe.on('change', function() {-->
<!--    var valorperfilPuxadorSelecionado = campoEncaixe.filter(':checked').val();-->
<!--    if (valorperfilPuxadorSelecionado === '1') {-->
<!--      perfilpuxadorDiv.show();-->
<!--    } else {-->
<!--      perfilpuxadorDiv.hide();-->
<!--    }-->
<!--    console.log('Valor selecionado: ' + valorperfilPuxadorSelecionado);-->

<!--});-->

<!--$(document).ready(function() {-->
<!--  $('input[name="encaixe"], input[name="encaixepuxador"]').on('change', function() {-->
<!--    var valorSelecionado1 = $('input[name="encaixe"]:checked').val();-->
<!--    var valorSelecionado2 = $('input[name="encaixepuxador"]:checked').val();-->

<!--    // Exemplo de uso dos valores selecionados:-->
<!--    console.log('Valor selecionado 1: ' + valorSelecionado1);-->
<!--    console.log('Valor selecionado 2: ' + valorSelecionado2);-->

<!--    // Restante do cÃ³digo para controlar as divs-->
<!--    // ...-->
<!--  });-->
<!--});-->

$(document).ready(function() {
  $('input[name="encaixe"], input[name="encaixepuxador"]').on('change', function() {
    var valorSelecionado1 = $('input[name="encaixe"]:checked').val();
    var valorSelecionado2 = $('input[name="encaixepuxador"]:checked').val();

    // Controlar a primeira div
    if (valorSelecionado1 === '1') {
      $('#idperfilpuxador').show();
    } else {
      $('#idperfilpuxador').selectedIndex = -1;
      $('#idperfilpuxador').hide();
    }

    // Controlar a segunda div
    if (valorSelecionado2 === '1') {
      $('#idpuxador').show();
    } else {
      $('#idpuxador').find('input[type="checkbox"]').prop('checked', false);
      $('#idpuxador').hide();
    }
  });
});

</script>
{% endblock %}

