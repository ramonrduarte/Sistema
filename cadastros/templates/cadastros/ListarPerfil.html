{% extends 'base.html' %}

{% load static %}
{% block titulo %}
Cadastro Perfil
{% endblock %}

<!-- Page content -->
{% block content %}
<div class="container">

    <br><br>

    <a class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#addModalPerfil">
        <i class="fas fa-plus"></i>&nbsp;&nbsp; Adicionar Perfil
    </a>

    <!-- Input search + reset buton -->
    <div class="input-group input-group-sm mb-3 mt-3">
        <input type="text" class="form-control" id="search" placeholder="Buscar...">
        <a href="{% url 'listar-perfil' %}" class="btn btn-dark" style="margin-left:2px;"><i class="fas fa-sync-alt"></i></a>
    </div>

    <table class="table table-bordered table-sm mt-3" id="myTable" style="text-align: center; font-size: 14px;">
        <thead class="table-warning">
            <tr>
                <th scope="col ">Código</th>
                <th scope="col ">Descrição</th>
                <th scope="col ">Preço</th>
                <th scope="col ">Acabamento</th>
                <th scope="col ">Tipo</th>
                <th scope="col ">Modelo</th>
                <th scope="col ">Perfil Puxador</th>
                <th scope="col ">Divisor</th>
                <th scope="col ">Puxador Sobreposto</th>
                <th scope="col ">Editar</th>
                <th scope="col ">Excluir</th>
            </tr>
        </thead>
        <!-- Back-end data -->
        {% for perfil in object_list %}
        <tr {% if not perfil.ativo %}class="inactive" {% endif %}>
            <td>{{ perfil.codigo }}</td>
            <td>{{ perfil.descricao }}</td>
            <td>R$ {{ perfil.preco }}</td>
            <td>{{ perfil.acabamento }}</td>
            <td>{{ perfil.tipo }}</td>
            <td>{{ perfil.modelo }}</td>
            <td>
                {% if perfil.encaixe == "1" %}
                <p>Sim</p>
                {% else %}
                <p>Não</p>
                {% endif %}
            </td>
            <td>
                {% if perfil.encaixedivisor == "1" %}
                <p>Sim</p>
                {% else %}
                <p>Não</p>
                {% endif %}
            </td>
            <td>
                {% if perfil.encaixepuxador == "1" %}
                <p>Sim</p>
                {% else %}
                <p>Não</p>
                {% endif %}
            </td>
            <td>
                <a class="btn btn-warning" title="Editar perfil" data-bs-toggle="modal"
                   data-bs-target="#editModalPerfil{{ perfil.pk }}" data-product-id="{{ perfil.pk }}">
                    <i class="fas fa-pen"></i>
                </a>
            </td>
            <td>
                <a href="#" class="btn btn-secondary delete-btn" data-bs-toggle="modal"
                   data-bs-target="#confirmDeleteModal" data-product-id="{{ perfil.pk }}" title="Deletar perfil">
                    <i class="fas fa-trash-alt"></i>
                </a>
            </td>
            <!-- Include (Required here to get the OK) -->
            {% include 'cadastros/editperfil.html' %}
        </tr>
        {% empty %}
            <tr>
                <td colspan="10">Nenhum Perfil cadastrado</td>
            </tr>
        {% endfor %}



    </table>


</div> <!-- END // container -->

<span class="text-danger" id="no-data"></span>

<!-- Message from backend -->
{% for message in messages %}
    {% if message.tags == 'success' %}
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
        var m = "{{ message }}";
        swal("Perfect !", m, "success")
    </script>
    {% endif %}
{% endfor %}

<!-- Include (Required here to get the OK) -->
        {% include 'cadastros/cadastroperfil.html' %}

<!-- Include (Required here to get the OK) -->
        {% include 'cadastros/saveModal.html' %}

<!-- Include (Required here to get the OK) -->
        {% include 'cadastros/confirmDeleteModal.html' %}

<style>
/* Estilize a linha da tabela quando estiver inativa */
tr.inactive td {
    background-color: #f7f7f7; /* Altere a cor de fundo da linha para cinza claro */
    color: #ccc; /* Define a cor do texto como cinza */
}
</style>




{% endblock content %}

